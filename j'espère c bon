double integrate(double (*f)(double), double a, double b, int N, QuadFormula* qf)
{
    if (f == NULL || qf == NULL || qf->n <= 0 || N <= 0)
        return 0.0;

    double pas = (b - a) / N;
    double res = 0.0;
    int i;
    int k;

    for (i = 0; i < N; i++)
    {
        double ai = a + i * pas;

        for (k = 0; k < qf->n; k++)
        {
            double aze = ai + pas * qf->x[k];
            res += qf->w[k] * f(aze);
        }
    }

    return res * pas;
}
